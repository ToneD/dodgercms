/*! dodgercms 0.0.2 2016-04-03 */
$(function(){"use strict";function autofill(){$("#login-form-access-key").val(localStorage.getItem("dodgercms-access-key-id")||""),$("#login-form-access-secret").val(localStorage.getItem("dodgercms-secret-access-key")||""),$("#login-form-region").val(localStorage.getItem("dodgercms-region")||""),$("#login-form-data-bucket").val(localStorage.getItem("dodgercms-data-bucket")||""),$("#login-form-site-bucket").val(localStorage.getItem("dodgercms-site-bucket")||""),$("#login-form-assets-bucket").val(localStorage.getItem("dodgercms-assets-bucket")||""),$("#login-form-site-path").val(localStorage.getItem("dodgercms-site-path")||""),$("#login-form-assets-path").val(localStorage.getItem("dodgercms-assets-path")||"")}autofill(),$("#login-form").submit(function(event){event.preventDefault();var accessKey=$.trim($("#login-form-access-key").val()),accessSecret=$.trim($("#login-form-access-secret").val()),region=$.trim($("#login-form-region").val()),dataBucket=$.trim($("#login-form-data-bucket").val()),siteBucket=$.trim($("#login-form-site-bucket").val()),assetsBucket=$.trim($("#login-form-assets-bucket").val()),sitePath=$.trim($("#login-form-site-path").val()),assetsPath=$.trim($("#login-form-assets-path").val()),remember=$("#login-remember").is(":checked");if(""===accessKey||""===accessSecret||""===region||""===dataBucket||""===assetsBucket||""===siteBucket)return alert("All fields are required."),void 0;var params={dataBucket:dataBucket,assetsBucket:assetsBucket,siteBucket:siteBucket,assetsPath:assetsPath,sitePath:sitePath,accessKey:accessKey,accessSecret:accessSecret,region:region,remember:remember};$.blockUI({css:{border:"none","font-size":"90%",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#fff"}}),dodgercms.auth.login(params,function(err){$.unblockUI(),err?alert(err):window.location.replace(location.protocol+"//"+location.host)})})});